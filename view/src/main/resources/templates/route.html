<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Route Map</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI=" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js" integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM=" crossorigin=""></script>
</head>
<body>
    <div id="map" style="height: 500px;"></div>
    <form th:action="@{/route}" method="post">
        <input type="hidden" id="startLat" name="startLat" />
        <input type="hidden" id="startLon" name="startLon" />
        <input type="hidden" id="destLat" name="destLat" />
        <input type="hidden" id="destLon" name="destLon" />
        <button type="submit">Get Route</button>
    </form>
    <script th:inline="javascript">
        /*<![CDATA[*/
        var coordinates = /*[[${coordinates}]]*/ [];

        coordinates = [[37.57524,126.97711], [37.5606, 126.9757]]
        var map = L.map('map').setView([coordinates[0][0], coordinates[0][1]], 13);

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        var polyline = L.polyline(coordinates, {color: 'red'}).addTo(map);
        map.fitBounds(polyline.getBounds());
        /*]]>*/
    </script>
</body>
</html>

<!--<head> 섹션:-->
<!--Leaflet CSS: Leaflet 라이브러리의 스타일시트를 참조합니다. 이 스타일시트는 지도의 기본적인 스타일링과 UI 구성요소를 제공합니다.-->
<!--Leaflet JS: Leaflet 라이브러리의 JavaScript 파일을 참조합니다. 이 스크립트는 지도를 생성하고 조작하는 데 필요한 모든 기능을 포함하고 있습니다.-->
<!--<body> 섹션:-->
<!--지도 컨테이너: id="map"인 <div> 요소는 지도를 표시할 공간을 정의합니다. 이 요소의 스타일(style="height: 500px;")을 통해 지도의 높이를 지정합니다.-->
<!--<script> 섹션:-->
<!--좌표 데이터: coordinates 변수는 선을 그릴 때 사용할 좌표 배열을 저장합니다. 이 예제에서는 coordinates 변수가 동적으로 Thymeleaf를 통해 서버에서 전달되는 데이터로 대체될 것으로 예상됩니다(/*[[${coordinates}]]*/ []).-->
<!--지도 생성: L.map('map') 함수를 사용하여 지도 객체를 생성하고, 이를 map 변수에 할당합니다. setView 메서드는 지도의 초기 중심 위치와 확대 레벨을 설정합니다.-->
<!--타일 레이어 추가: L.tileLayer 함수는 지도의 배경으로 사용될 타일 이미지를 정의합니다. 이 예제에서는 OpenStreetMap의 타일 서버에서 타일 이미지를 가져옵니다.-->
<!--폴리라인 추가: L.polyline 함수는 좌표 배열을 사용하여 지도 위에 선을 그립니다. 선의 색상은 빨간색으로 설정되어 있습니다. addTo(map) 메서드를 통해 이 폴리라인을 지도에 추가합니다.-->
<!--지도 뷰 조정: map.fitBounds(polyline.getBounds())는 지도 뷰를 폴리라인이 차지하는 영역에 맞게 조정하여, 모든 선이 지도에 잘 보이도록 합니다.-->

